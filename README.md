# NoSQL_Exercises_65_2

## Q1

- For this scenario both could do the job but I think MongoDB would be the choice because MongoDB will have more flexibility to further changes or improvements and also MongoDB can directly store time data.

## Q2

- For an IoT application, where the data generated by IoT devices can be complex, unstructured, a document-oriented database like MongoDB may be a better choice.
MongoDB schema for IoT data might have a collection of documents individual devices, containing fields for device ID, timestamp, and various sensor.


- An e-commerce application typically involves a large amount of structured data so Relational database will be the choice here 
Relational schema for an e-commerce application might have tables for customers, orders, products, and transactions.


- For gaming application, both could do the job but MongoDB would offer more flexibility for further implementation.
MongoDB schema for gaming application might have tables for player profile, scores.


- For a finance application, the data need to be consistence so the relational database will be the choice
Relational schema for finance application might have tables for accounts, transactions, and user information.

## Q3 

- Inserting given information
```
db.studentMarks.insertMany([   
{"name":"Ramesh","subject":"maths","marks":87},
{"name":"Ramesh","subject":"english","marks":59},
{"name":"Ramesh","subject":"science","marks":77},
{"name":"Rav","subject":"maths","marks":62},
{"name":"Rav","subject":"english","marks":83},
{"name":"Rav","subject":"science","marks":71},
{"name":"Alison","subject":"maths","marks":84},
{"name":"Alison","subject":"english","marks":82},
{"name":"Alison","subject":"science","marks":86},
{"name":"Steve","subject":"maths","marks":81},
{"name":"Steve","subject":"english","marks":89},
{"name":"Steve","subject":"science","marks":77},
{"name":"Jan","subject":"english","marks":0,"reason":"absent"}
])
```

- Find the total marks for each student across all subjects.

```
db.studentMarks.aggregate([
   {$group: {_id: "$name", totalMarks: {$sum: "$marks"}}}
])
```

```
{ "_id" : "Alison", "totalMarks" : 252 }
{ "_id" : "Steve", "totalMarks" : 247 }
{ "_id" : "Jan", "totalMarks" : 0 }
{ "_id" : "Rav", "totalMarks" : 216 }
{ "_id" : "Ramesh", "totalMarks" : 223 }
```

- Find the maximum marks scored in each subject.

```
db.studentMarks.aggregate([
   {$group: {_id: "$subject", maxMarks: {$max: "$marks"}}}
])
```

```
{ "_id" : "english", "maxMarks" : 89 }
{ "_id" : "science", "maxMarks" : 86 }
{ "_id" : "maths", "maxMarks" : 87 }
```

- Find the minimum marks scored by each student.

```
db.studentMarks.aggregate([
   {$group: {_id: "$name", minMarks: {$min: "$marks"}}}
])
```

```
{ "_id" : "Alison", "minMarks" : 82 }
{ "_id" : "Steve", "minMarks" : 77 }
{ "_id" : "Jan", "minMarks" : 0 }
{ "_id" : "Rav", "minMarks" : 62 }
{ "_id" : "Ramesh", "minMarks" : 59 }
```

- Find the top two subjects based on average marks.

```
db.studentMarks.aggregate([
   {$group: {_id: "$subject", avgMarks: {$avg: "$marks"}}},
   {$sort: {avgMarks: -1}},
   {$limit: 2}
])
```

```
{ "_id" : "science", "avgMarks" : 78 }
{ "_id" : "maths", "avgMarks" : 78 }
```


